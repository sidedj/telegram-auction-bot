# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ngrok –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π –ÆMoney

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ngrok

1. **–°–∫–∞—á–∞–π—Ç–µ ngrok:** https://ngrok.com/download
2. **–†–∞—Å–ø–∞–∫—É–π—Ç–µ** –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ PATH
3. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å** –Ω–∞ https://ngrok.com –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–∫–µ–Ω–∞

```bash
ngrok config add-authtoken YOUR_TOKEN_HERE
```

### 3. –ó–∞–ø—É—Å–∫ —Ç—É–Ω–Ω–µ–ª—è

**–í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ** (–Ω–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ –µ–≥–æ!):

```bash
ngrok http 5000
```

–í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
```
Session Status                online
Account                       your-email@example.com
Version                       3.x.x
Region                        United States (us)
Latency                       45ms
Web Interface                 http://127.0.0.1:4040
Forwarding                    https://abc123.ngrok-free.app -> http://localhost:5000
```

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –∏–∑ ngrok (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok-free.app`) –∏ –æ–±–Ω–æ–≤–∏—Ç–µ `config.py`:

```python
YOOMONEY_NOTIFICATION_URL = "https://abc123.ngrok-free.app/yoomoney"
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –ÆMoney

1. **–í–æ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ÆMoney**
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"**
3. **–î–æ–±–∞–≤—å—Ç–µ URL —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
   ```
   https://abc123.ngrok-free.app/yoomoney
   ```
4. **–£–∫–∞–∂–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–ª–æ–≤–æ:** `SaTKEuJWPVXJl/JFpXDCHZ4q`

### 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
python test_webhook.py https://abc123.ngrok-free.app
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### Ngrok –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω:
- **–¢—É–Ω–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞ –∑–∞–ø—É—â–µ–Ω ngrok**
- **URL –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ**
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤**

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω ngrok** –∏–ª–∏ **VPS**
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ **–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –¥–æ–º–µ–Ω**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç**

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "endpoint is offline"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ngrok –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –ø–ª–∞—Ç–µ–∂–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 5000

### –û—à–∏–±–∫–∞ "tunnel not found"
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ ngrok
- –û–±–Ω–æ–≤–∏—Ç–µ URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

### –û—à–∏–±–∫–∞ 404
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ `/yoomoney`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞–ø—É—â–µ–Ω

## üìù –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –ø–ª–∞—Ç–µ–∂–µ–π
python start_payment_server.py

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ó–∞–ø—É—Å–∫ ngrok
ngrok http 5000

# –¢–µ—Ä–º–∏–Ω–∞–ª 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python test_webhook.py https://YOUR_NGROK_URL.ngrok-free.app
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
1. ‚úÖ –°–µ—Ä–≤–µ—Ä –ø–ª–∞—Ç–µ–∂–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ
2. ‚úÖ Ngrok —Ç—É–Ω–Ω–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω
3. ‚úÖ –ÆMoney –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
4. ‚úÖ –ü–ª–∞—Ç–µ–∂–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
5. ‚úÖ –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞! üéâ
